<link rel="stylesheet" type="text/css" href="/static/styles/css/reservations.css" />
<div class="col-3-0f-4 table-container">
    <div class="row">
    </div>
    <span id="page-success" class="text-success"></span>
    <span id="page-error" class="text-error"></span>
    <table>
        <thead>
            <tr>
                <td>No.</td>
                <td>Name</td>
                <td>Email</td>
                <td>Phone No.</td>
                <td>Details</td>
                <td>Booked Time</td>
                <td>Actions</td>
            </tr>
        </thead>
        <tbody>
            {{#each reservations}}
            <tr>
                <td>{{_increment @index}}</td>
                <td>
                    {{clientname}}
                </td>
                <td>{{email}}</td>
                <td>{{phonenumber}}</td>
                <td><div class="details">{{additionaldetails}}</div></td>
                <td>{{_toLongDate reservationdatetime}}</td>
                <td>
                    {{#if (_not isapproved)}}
                    <button class="btn btn-primary approve-btn" data-id="{{_id}}">Approve</button>
                    {{/if}}
                    {{#if (_not isrejected)}}
                    <button class="btn btn-warning reject-btn" data-id="{{_id}}">Reject</button>
                    {{/if}}
                </td>
            </tr>
            {{/each}}
        </tbody>
        <tfoot></tfoot>
    </table>
</div>
<div class="modal-container" id="reason-modal">
    <div class="modal-content">
        <div class="modal-header clear-fix">
            <h3 class="modal-heading" id="reason-modal-heading"></h3>
            <a class="modal-close" href="#"><i class="fa fa-remove"></i></a>
        </div>
        <div class="modal-body">
            <div class="new-reason-form">
                <span id="error-span" class="text-error"></span>
                <form id="reason-form">   
                <input type="hidden" name="_id" id="_id" value="0"/> 
                    <div class="control-group">
                            <label for="rejectionreason" class="control-label">Reason</label>
                            <textarea name="rejectionreason" id="rejectionreason" rows="2"
                                class="control form-textarea" placeholder="Rejection Reason" minlength="10"
                                required="required"></textarea>
                        </div>             
                    <div class="control-group text-center">
                        <input id="submit" name="submit" type="submit" value="Save" class="btn btn-primary" />
                    </div>
                </form>
            </div>
        </div>
        <div class="modal-footer"></div>
    </div>
</div>
<script src="/static/scripts/js/reservations.js"></script>